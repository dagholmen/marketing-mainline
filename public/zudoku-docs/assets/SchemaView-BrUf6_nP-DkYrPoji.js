import{N as f,e as m,j as H,aX as J,a as s,R as c,am as I,an as _,aU as U,aC as x,u as M,aD as B,aO as G,aP as W,w as X,aY as Y,a7 as K,az as q}from"./entry.client-CpUpOCMu.js";import{G as Q}from"./circular-CuSWVYOZ-BU-TguH1.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]],ee=f("chevrons-left-right",Z);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M5 12h14",key:"1ays0h"}]],te=f("minus",se);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],re=f("plus",ae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ie=f("refresh-ccw-dot",ne);var oe="Separator",$="horizontal",le=["horizontal","vertical"],L=m.forwardRef((e,t)=>{const{decorative:a,orientation:r=$,...i}=e,n=ce(r)?r:$,l=a?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return H.jsx(J.div,{"data-orientation":n,...l,...i,ref:t})});L.displayName=oe;function ce(e){return le.includes(e)}var de=L;function me({className:e,orientation:t="horizontal",decorative:a=!0,...r}){return s.jsx(de,{"data-slot":"separator",decorative:a,orientation:t,className:c("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function pe({className:e,...t}){return s.jsx("div",{role:"list","data-slot":"item-group",className:c("group/item-group flex flex-col",e),...t})}function k({className:e,...t}){return s.jsx(me,{"data-slot":"item-separator",orientation:"horizontal",className:c("my-0",e),...t})}const ue=_("group/item flex items-center border border-transparent text-sm rounded-md transition-colors [a]:hover:bg-accent/50 [a]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{variant:{default:"bg-transparent",outline:"border-border",muted:"bg-muted/50"},size:{default:"p-4 gap-4 ",sm:"py-3 px-4 gap-2.5"}},defaultVariants:{variant:"default",size:"default"}});function A({className:e,variant:t="default",size:a="default",asChild:r=!1,...i}){const n=r?I:"div";return s.jsx(n,{"data-slot":"item","data-variant":t,"data-size":a,className:c(ue({variant:t,size:a,className:e})),...i})}function g({className:e,...t}){return s.jsx("div",{"data-slot":"item-content",className:c("flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none",e),...t})}function z({className:e,...t}){return s.jsx("div",{"data-slot":"item-title",className:c("flex w-fit items-center gap-2 text-sm leading-snug font-medium",e),...t})}function xe({className:e,...t}){return s.jsx("div",{"data-slot":"item-actions",className:c("flex items-center gap-2",e),...t})}function v({className:e,...t}){return s.jsx("div",{"data-slot":"frame",className:c("relative flex flex-col rounded-2xl bg-muted p-1",e),...t})}function y({className:e,...t}){return s.jsx("div",{"data-slot":"frame-panel",className:c("relative bg-clip-padding rounded-xl border bg-card p-5 shadow-xs","before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-xl)-1px)] before:shadow-[0_1px_--theme(--color-black/4%)] dark:bg-clip-border dark:before:shadow-[0_-1px_--theme(--color-white/8%)]",e),...t})}function he({className:e,...t}){return s.jsx("header",{"data-slot":"frame-panel-header",className:c("flex flex-col p-4",e),...t})}function fe({className:e,...t}){return s.jsx("div",{"data-slot":"frame-panel-description",className:c("text-sm text-muted-foreground",e),...t})}function je({className:e,...t}){return s.jsx("footer",{"data-slot":"frame-panel-footer",className:c("flex flex-col gap-1 px-5 py-4",e),...t})}const ge=_("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",muted:"bg-muted text-muted-foreground "}},defaultVariants:{variant:"default"}});function ve({className:e,variant:t,asChild:a=!1,...r}){const i=a?I:"span";return s.jsx(i,{"data-slot":"badge",className:c(ge({variant:t}),e),...r})}function ye({className:e,...t}){return s.jsx("div",{"data-slot":"frame",className:c("relative flex flex-col rounded-2xl bg-muted p-1",e),...t})}function be({className:e,...t}){return s.jsx("div",{"data-slot":"frame-panel",className:c("relative bg-clip-padding rounded-xl border bg-card p-5 shadow-xs","before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-xl)-1px)] before:shadow-[0_1px_--theme(--color-black/4%)] dark:bg-clip-border dark:before:shadow-[0_-1px_--theme(--color-white/8%)]",e),...t})}const qe=({name:e,children:t})=>s.jsx("span",{"data-pagefind-meta":e,className:"sr-only",children:t}),Ne=(e,t)=>e.reduce((a,r)=>{const i=t(r);return a[i]||(a[i]=[]),a[i].push(r),a},{}),R=({schema:e,hideDescription:t=!1})=>s.jsx("div",{className:"flex flex-col gap-1",children:s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Const value: "}),s.jsx(x,{className:"border rounded px-1 font-mono",children:e.const}),!t&&e.description&&s.jsx("div",{className:"text-muted-foreground",children:e.description})]})}),b=({values:e,className:t,maxVisibleValues:a=8})=>{const[r,i]=m.useState(!1);if(!e.length)return null;const n=e.length>a,o=n&&!r?e.slice(0,a):e;return s.jsxs("div",{className:c("flex flex-wrap gap-1.5",t),children:[s.jsx("span",{className:"text-muted-foreground",children:"Enum values:"}),o.map(l=>s.jsx("div",{children:s.jsx(x,{className:"border rounded-sm px-1 font-mono",children:l})},l)),n&&s.jsx(X,{variant:"ghost",size:"sm",className:"h-fit px-0",onClick:()=>i(!r),children:r?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Y,{size:12}),s.jsx("span",{className:"text-muted-foreground",children:"show less"})]}):s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(K,{size:12}),s.jsxs("span",{className:"text-muted-foreground",children:["show ",e.length-a," more"]})]})})]})},Oe=({pattern:e})=>{const[t,a]=m.useState(!1),r=e.length>20,i=r?`${e.slice(0,20)}…`:e;return s.jsxs(q,{className:c("text-xs",r&&"cursor-pointer"),onClick:()=>a(!t),selectOnClick:!1,children:[t?e:i,r&&s.jsx("button",{type:"button",className:"p-1 translate-y-[2px]",children:!t&&s.jsx(ee,{size:12})})]})},we=e=>e?[e.type==="array"&&e.items.type?Array.isArray(e.items.type)?`(${e.items.type.join(" | ")})[]`:`${e.items.type}[]`:Array.isArray(e.type)?e.type.join(" | "):e.type,e.enum&&"enum",e.const&&"const",e.format,e.type==="array"&&e.items?.contentMediaType,e.minimum!==void 0&&`min: ${e.minimum}`,e.maximum!==void 0&&`max: ${e.maximum}`,e.minLength!==void 0&&`minLength: ${e.minLength}`,e.maxLength!==void 0&&`maxLength: ${e.maxLength}`,e.minItems!==void 0&&`minItems: ${e.minItems}`,e.maxItems!==void 0&&`maxItems: ${e.maxItems}`,e.minProperties!==void 0&&`minProps: ${e.minProperties}`,e.maxProperties!==void 0&&`maxProps: ${e.maxProperties}`,e.uniqueItems&&"unique",e.readOnly&&"readOnly",e.writeOnly&&"writeOnly",e.deprecated&&"deprecated",e.pattern&&s.jsxs(s.Fragment,{children:["pattern: ",s.jsx(Oe,{pattern:e.pattern})]})]:[],N=({schema:e,extraItems:t=[],className:a})=>{const r=[...we(e),...t].flatMap(i=>typeof i=="string"||m.isValidElement(i)?i:[]);return s.jsx("span",{className:a,children:r.map((i,n)=>s.jsxs("span",{className:"text-muted-foreground",children:[i,n<r.length-1&&s.jsx("span",{className:"text-muted-foreground/50",children:" · "})]},n))})},O=({schema:e})=>{const t=e.examples?.at(0),a=e.default;return t===void 0&&a===void 0?null:s.jsxs("div",{className:"flex flex-col gap-1",children:[t!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Example: "}),s.jsx(x,{className:"border rounded-sm px-1 font-mono",children:typeof t=="object"||typeof t=="boolean"?JSON.stringify(t):t})]}),a!==void 0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Default: "}),s.jsx(x,{className:"border rounded-sm px-1 font-mono",children:typeof a=="object"||typeof a=="boolean"?JSON.stringify(a):a})]})]})},V=e=>typeof e=="string"&&["string","number","boolean","integer","null"].includes(e)||Array.isArray(e)&&e.every(V),h=e=>e.type==="array"||Array.isArray(e.type)&&e.type.includes("array"),C=e=>e&&(e.type==="object"&&Object.keys(e.properties??{}).length>0||e.type==="array"&&typeof e.items=="object"&&(!e.items.type||e.items.type==="object")),E=e=>typeof e=="string"&&e.startsWith(Q),P=e=>h(e)&&"items"in e&&E(e.items),$e=e=>typeof e=="string"?e.split(":")[1]:void 0,S=({circularProp:e})=>s.jsxs(q,{className:"inline-flex items-center gap-1.5 text-xs translate-y-0.5",selectOnClick:!1,children:[s.jsx(ie,{size:13}),s.jsx("span",{children:e?`${e} (circular)`:"circular"})]}),ke=({name:e,schema:t,group:a,defaultOpen:r=!1,showCollapseButton:i=!0})=>{const[n,o]=m.useState(r);if(E(t))return s.jsx(A,{children:s.jsxs(g,{className:"gap-y-2",children:[s.jsxs("div",{children:[s.jsx(z,{className:"inline me-2",children:s.jsx("code",{children:e})}),s.jsx(N,{className:"inline",schema:t,extraItems:[a!=="optional"&&s.jsx("span",{className:"text-primary",children:"required"}),s.jsx(S,{},"circular-ref")]})]}),s.jsx(O,{schema:t})]})});const l=!!((t.allOf||t.anyOf||t.oneOf||C(t)||h(t)&&"items"in t&&C(t.items)||t.additionalProperties)&&!P(t)),d=!!(t.description||"items"in t&&t.items?.enum||t.const||t.enum||t.example!==void 0||t.default!==void 0);return s.jsxs(A,{children:[s.jsxs(g,{className:"gap-y-2",children:[s.jsxs("div",{children:[s.jsx(z,{className:"inline me-2",children:l?s.jsx("button",{onClick:()=>o(!n),type:"button",className:"hover:underline",children:s.jsx("code",{children:e})}):s.jsx("code",{children:e})}),s.jsx(N,{className:"inline",schema:t,extraItems:[a!=="optional"&&s.jsx("span",{className:"text-primary",children:"required"}),P(t)&&s.jsx(S,{circularProp:$e(t.items)})]})]}),d&&s.jsxs("div",{className:"flex flex-col gap-1.5",children:[t.description&&s.jsx(M,{className:"prose-sm",content:t.description}),"items"in t&&t.items?.enum&&s.jsx(b,{values:t.items.enum}),t.const&&s.jsx(R,{schema:t,hideDescription:!0}),t.enum&&s.jsx(b,{values:t.enum}),s.jsx(O,{schema:t})]})]}),l&&i&&s.jsx(xe,{className:"self-start",children:s.jsx(B,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>o(!n),"aria-label":"Toggle properties",children:n?s.jsx(te,{size:16}):s.jsx(re,{size:16})})}),l&&s.jsx(G,{defaultOpen:r,open:n,onOpenChange:o,className:c("w-full",!n&&"contents"),children:s.jsx(W,{asChild:!0,children:s.jsx(g,{children:t.anyOf||t.oneOf||t.type==="object"?s.jsx(p,{schema:t}):h(t)&&"items"in t?s.jsx(p,{schema:t.items}):null})})})]})},T=e=>{const t=e.oneOf??e.anyOf??[];return e.properties&&Object.keys(e.properties).length>0?t.map(a=>!a.properties&&!a.type&&!a.oneOf&&!a.anyOf?{...a,type:"object",properties:e.properties,required:a.required??e.required}:a):t},Ae=e=>{if(Array.isArray(e.oneOf))return"exactly-one";const t=e.discriminator?.propertyName;if(!t)return"at-least-one";const a=T(e),r=new Set;for(const i of a){const n=i.properties?.[t],o=n?.const??(Array.isArray(n?.enum)&&n.enum.length===1?String(n.enum[0]):void 0);if(o==null||r.has(String(o)))return"at-least-one";r.add(String(o))}return"exactly-one"},w=(e,t)=>t.title?.trim()||`Variant ${e+1}`,ze=(e,t)=>{const a=[];e.type&&a.push(`type = ${Array.isArray(e.type)?e.type.join("|"):e.type}`);const r=t?.discriminator?.propertyName;if(r){const n=e.properties?.[r],o=n?.const??(Array.isArray(n?.enum)&&n.enum.length===1?n.enum[0]:void 0);o!==void 0&&a.push(`${r}=${JSON.stringify(o)}`)}const i=(e.required??[]).filter(n=>n!==r);if(i.length){const n=i.slice(0,3).join(", "),o=i.length>3?` +${i.length-3} more`:"";a.push(`requires: ${n}${o}`)}return a},Ce=({variants:e,schema:t,selectedVariant:a,onSelectVariant:r})=>{const i=e.map((n,o)=>({label:w(o,n),guards:ze(n,t)}));return s.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[s.jsx("h4",{className:"font-medium",children:"Decision Table"}),s.jsx("div",{className:"border rounded-md overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b bg-muted/50",children:[s.jsx("th",{className:"text-left p-2 font-medium",children:"Variant"}),s.jsx("th",{className:"text-left p-2 font-medium",children:"Matching Criteria"})]})}),s.jsx("tbody",{className:"divide-y",children:i.map(n=>s.jsxs("tr",{className:"hover:bg-muted/30",children:[s.jsx("td",{className:"p-2 font-medium",children:s.jsx("button",{type:"button",className:c("hover:underline",a===n.label&&"text-primary"),onClick:()=>r(n.label),children:n.label})}),s.jsx("td",{className:"p-2 text-muted-foreground text-xs",children:n.guards.length>0?n.guards.join(" · "):"No specific criteria"})]},n.label))})]})})]})},Pe=({schema:e,cardHeader:t})=>{const a=Array.isArray(e.oneOf)?"oneOf":Array.isArray(e.anyOf)?"anyOf":void 0,r=a?T(e):[],[i,n]=m.useState(()=>r[0]?w(0,r[0]):"");if(!a)return null;const o=Ae(e)==="exactly-one"?s.jsxs(s.Fragment,{children:["Exactly one variant ",s.jsx("b",{children:"must match"}),"."]}):s.jsxs(s.Fragment,{children:["At least one variant ",s.jsx("b",{children:"must match"}),". Multiple variants"," ",s.jsx("i",{children:"may match"})," simultaneously."]}),l=r.findIndex((j,u)=>w(u,j)===i),d=l>=0?r[l]:null;return s.jsxs(ye,{children:[t,s.jsxs(be,{className:"text-sm flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ve,{variant:"outline",children:a}),s.jsx("div",{className:"flex-1 p-2",children:s.jsx("span",{className:"text-sm",children:o})})]}),s.jsx(Ce,{variants:r,schema:e,selectedVariant:i,onSelectVariant:n}),s.jsxs("strong",{children:["Properties for ",i,":"]}),d&&s.jsx(p,{schema:d})]})]})},Se=e=>e&&s.jsx(M,{className:"text-sm leading-normal line-clamp-4",content:e}),Ie=(e,t,a)=>{const r=s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:s.jsx(N,{schema:e})}),e.enum&&s.jsx(b,{values:e.enum}),Se(e.description),s.jsx(O,{schema:e})]});return a?s.jsx("div",{className:"space-y-2 p-4",children:r}):s.jsxs(v,{children:[t,s.jsx(y,{className:"space-y-2",children:r})]})},p=({schema:e,defaultOpen:t=!1,cardHeader:a,embedded:r})=>{if(!e||Object.keys(e).length===0)return s.jsxs(v,{children:[a,s.jsx(y,{children:s.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No data returned"})})]});if(e.const)return s.jsx(R,{schema:e});if(Array.isArray(e.oneOf)||Array.isArray(e.anyOf))return s.jsx(Pe,{schema:e,cardHeader:a});if(V(e.type))return Ie(e,a,r);if(h(e)&&typeof e.items=="object"){const n={type:"object",properties:{"":e}};return s.jsx(p,{schema:n,cardHeader:a,defaultOpen:!0})}const i=typeof e.additionalProperties=="object"&&s.jsx(p,{schema:e.additionalProperties,embedded:!0});if(e.type==="object"){const n=Ne(Object.entries(e.properties??{}),([l,d])=>d.deprecated?"deprecated":e.required?.includes(l)?"required":"optional"),o=["required","optional","deprecated"].flatMap(l=>{const d=n[l];return d?{group:l,properties:d}:[]}).map(({group:l,properties:d},j)=>s.jsxs(m.Fragment,{children:[j>0&&s.jsx(k,{}),s.jsx(pe,{className:"overflow-clip",children:d.map(([u,D],F)=>s.jsxs(m.Fragment,{children:[F>0&&s.jsx(k,{}),s.jsx(ke,{name:u,schema:D,group:l,defaultOpen:t})]},u))})]},l));return r?o:s.jsxs(v,{children:[a,e.description&&s.jsx(he,{children:s.jsx(fe,{children:e.description})}),(o.length>0||i)&&s.jsxs(y,{className:"p-0!",children:[o,i]}),e.additionalProperties===!0&&s.jsx(je,{children:s.jsxs("a",{className:"text-sm flex items-center gap-1 hover:underline",href:"https://swagger.io/docs/specification/v3_0/data-models/dictionaries/",rel:"noopener noreferrer",target:"_blank",children:["Additional properties are allowed",s.jsx(U,{size:14})]})})]})}};export{E as B,O as I,te as M,re as P,de as R,qe as S,b as h,Ne as l,h as m,be as n,me as p,ye as s,N as v,p as x};
//# sourceMappingURL=SchemaView-BrUf6_nP-DkYrPoji.js.map
